{"version":3,"sources":["components/Landing.js","utils/constants.js","components/Placard.js","components/Sprite.js","components/Still.js","components/Stage.js","reportWebVitals.js","index.js"],"names":["Landing","props","create","load","createContainer","createTitle","createInstructions","add","componentDidUpdate","prevProps","stage","state","hasAddedToStage","setState","hasScrolled","addClickInstructions","loadedPercentage","addLoading","addChild","container","addArrow","width","window","innerWidth","arrowEl","setTransform","canvas","innerHeight","height","image","arrowY","animateArrow","arrowHeight","fontSize","y","text","createjs","Text","set","x","font","lineWidth","textAlign","scaleX","removeChild","fill","bar","Tween","get","override","to","arrowTween","call","Container","setBounds","hasLoaded","createLoadingBar","scale","Shape","graphics","setStrokeStyle","beginStroke","drawRoundRectComplex","endStroke","beginLinearGradientFill","textContainer","handleLoad","data","Bitmap","target","Image","src","onload","removeLoading","resize","removeAllTweens","React","Component","SPRITE_SHEETS","id","STILLS","PLACARDS","after","idx","MARGIN","TOTAL_ASSETS","length","Placard","transform","spriteEl","play","sprite","Sprite","result","loader","LoadQueue","manifest","type","crossOrigin","loadManifest","on","margin","w","h","rectWidth","toResize","isScreenSmall","cardHeight","yOffset","forEach","placard","i","split","Number","this","stop","addEventListener","onClick","calculateYOffset","checkBounds","isHeightBiggerThanScreen","isPlaying","hasPlayed","check","currentFrame","spriteSheet","_frames","Ticker","off","console","log","ev","gotoAndPlay","scaleY","Still","stillEl","Stage","addEventListeners","document","scroll","calculateLowerBound","numOfSprites","numOfPlacards","lowerBound","assetTransform","sprites","placards","changeBackground","hue","setInterval","col1","Math","abs","col2","body","style","background","draw","update","onLoad","loadedElements","deltaY","areButtonsShowing","spriteTransform","Object","assign","setup","ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","timingMode","RAF_SYNCHED","framerate","enableMouseOver","renderLanding","renderPlacard","renderSprite","renderStill","currentPos","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0f6217f.chunk.js","sourcesContent":["import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nexport default class Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasAddedToStage: false\r\n        }\r\n    }\r\n\r\n    create = () => {\r\n        this.load()\r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.add()\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        if (this.props.stage && !this.state.hasAddedToStage) {\r\n            this.create()\r\n            this.setState({\r\n                hasAddedToStage: true\r\n            })\r\n        }\r\n        if (!prevProps.hasScrolled && this.props.hasScrolled) {\r\n            this.addClickInstructions()\r\n        }\r\n        if (this.props.loadedPercentage !== prevProps.loadedPercentage) {\r\n            this.addLoading()\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.props.stage.addChild(this.container)\r\n    }\r\n\r\n    addArrow = () => {\r\n        let width = window.innerWidth / 15\r\n        this.arrowEl.setTransform(\r\n            this.props.stage.canvas.width / 2 - width / 2, \r\n            window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10,\r\n            width / this.arrowEl.image.width,\r\n            width / this.arrowEl.image.width\r\n        )\r\n\r\n        this.arrowY = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10\r\n        this.container.addChild(this.arrowEl)\r\n        this.animateArrow()\r\n    }\r\n\r\n    addClickInstructions = () => {\r\n        let arrowHeight = window.innerWidth / 15 + 10\r\n        let fontSize = window.innerHeight / 20\r\n        let y = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 20 + arrowHeight\r\n        let text = new createjs.Text().set({\r\n            text: 'CLICK TO REPLAY COMICS',\r\n            x: 0,\r\n            y,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        this.container.addChild(text)\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n    }\r\n\r\n    addLoading = () => {\r\n        let scaleX = this.props.loadedPercentage\r\n        if (scaleX >= 1) {\r\n            this.container.removeChild(this.fill)\r\n            this.container.removeChild(this.bar)\r\n            return\r\n        }\r\n\r\n        createjs.Tween\r\n            .get(this.fill, {override: true})\r\n            .to({\r\n                scaleX\r\n            }, 150)\r\n    }\r\n\r\n    animateArrow = () => {\r\n        this.arrowTween = createjs.Tween\r\n            .get(this.arrowEl)\r\n            .to({\r\n                y: this.arrowY - 10\r\n            }, 500)\r\n            .to({\r\n                y: this.arrowY + 10\r\n            }, 500)\r\n            .call(() => {\r\n                this.animateArrow()\r\n        })\r\n    }\r\n\r\n    createContainer = () => {\r\n        let container = new createjs.Container()\r\n        this.container = container\r\n        container.setBounds(0, 0, window.innerWidth, window.innerHeight)\r\n        if (!this.props.hasLoaded) {\r\n            let {bar, fill} = this.createLoadingBar()\r\n            container.addChild(bar)\r\n            container.addChild(fill)\r\n            this.fill = fill\r\n            this.bar = bar\r\n        }\r\n        this.setState({\r\n            scale: {x: window.innerWidth, y: window.innerHeight}\r\n        })\r\n    }\r\n\r\n    createInstructions = () => {\r\n        let fontSize = window.innerHeight / 20\r\n        let text = new createjs.Text().set({\r\n            text: 'SCROLL',\r\n            x: 0,\r\n            y: window.innerHeight / 5 + this.props.stage.canvas.height / 2,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n        this.container.addChild(text)\r\n    }\r\n\r\n    createLoadingBar = () => {\r\n        let bar = new createjs.Shape()\r\n        let width = window.innerWidth / 4\r\n        let y = this.props.stage.canvas.height / 2\r\n        bar.graphics.setStrokeStyle(3)\r\n            .beginStroke('black')\r\n            .drawRoundRectComplex((window.innerWidth - width) / 2, y, width, 30, 5, 5, 5, 5)\r\n            .endStroke()\r\n\r\n        let fill = new createjs.Shape()\r\n            .set({\r\n                scaleX: 0,\r\n                x: (window.innerWidth - width) / 2 + 1.5,\r\n                y: y + 1.5\r\n            })\r\n        fill.graphics\r\n            .beginLinearGradientFill([\"#4158D0\",\"#C850C0\", \"#FFCC70\"],  [0, .46, 1], 0, 100, 200, 300)\r\n            .drawRoundRectComplex(0, 0, width - 3, 27, 5, 5, 5, 5)\r\n\r\n        return {bar, fill}\r\n    }\r\n\r\n    createTitle = () => {\r\n        let textContainer = new createjs.Container()\r\n        let fontSize = window.innerHeight / 10\r\n        let text = new createjs.Text().set({\r\n            text: 'THE CARYATID REVOLUTION',\r\n            x: 0,\r\n            y: 0,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        textContainer.addChild(text)\r\n        text.textAlign = 'center'\r\n        textContainer.x = this.props.stage.canvas.width / 2\r\n        textContainer.y = this.props.stage.canvas.height / 2 - this.props.stage.canvas.height / 5\r\n        this.container.addChild(textContainer)\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.arrowEl = new createjs.Bitmap(data.target, 'down-arrow')\r\n        this.addArrow()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = './title/down-arrow.png'\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    removeLoading = () => {\r\n        this.container.removeChild(this.fill)\r\n        this.container.removeChild(this.bar)\r\n    }\r\n\r\n    resize = () => {\r\n        this.props.stage.removeChild(this.container)\r\n        this.props.stage.removeChild(this.arrowEl)\r\n        createjs.Tween.removeAllTweens()        \r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.addArrow()\r\n        this.add()\r\n    }\r\n    \r\n    render() {\r\n        return null\r\n    }\r\n}","\r\nconst SPRITE_SHEETS = [\r\n    {\r\n        id: 'CARD_1',\r\n        src: './sprites/card1/card1.json'\r\n    },\r\n    {\r\n        id: 'CARD_2',\r\n        src: './sprites/card2/card2.json'\r\n    },\r\n    {\r\n        id: 'CARD_3',\r\n        src: './sprites/card3/card3.json'\r\n    },\r\n    {\r\n        id: 'CARD_4',\r\n        src: './sprites/card4/card4.json'\r\n    },\r\n    {\r\n        id: 'CARD_5',\r\n        src: './sprites/card5/card5.json'\r\n    },\r\n    {\r\n        id: 'CARD_6',\r\n        src: './sprites/card6/card6.json'\r\n    },\r\n    {\r\n        id: 'CARD_7',\r\n        src: './sprites/card7/card7.json'\r\n    },\r\n    {\r\n        id: 'CARD_9',\r\n        src: './sprites/card9/card9.json'\r\n    },\r\n    {\r\n        id: 'CARD_10',\r\n        src: './sprites/card10/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_12',\r\n        src: './sprites/card12/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_19',\r\n        src: './sprites/card20/card20.json'\r\n    },\r\n    {\r\n        id: 'CARD_21',\r\n        src: './sprites/card22/card22.json'\r\n    },\r\n    {\r\n        id: 'CARD_25',\r\n        src: './sprites/card26/card26.json'\r\n    },\r\n    {\r\n        id: 'CARD_27',\r\n        src: './sprites/card28/card28.json'\r\n    },\r\n    {\r\n        id: 'CARD_28',\r\n        src: './sprites/card29/card29.json'\r\n    },\r\n    {\r\n        id: 'CARD_29',\r\n        src: './sprites/card30/card30.json'\r\n    },\r\n    {\r\n        id: 'CARD_31',\r\n        src: './sprites/card32/card32.json'\r\n    },\r\n    {\r\n        id: 'CARD_33',\r\n        src: './sprites/card34/card34.json'\r\n    },\r\n    {\r\n        id: 'CARD_35',\r\n        src: './sprites/card36/card36.json'\r\n    }\r\n]\r\n\r\nconst TYPES = {\r\n    CARD: 'CARD',\r\n    PLACARD: 'PLACARD'\r\n}\r\n\r\nconst STILLS = [\r\n    {\r\n        id: 'CARD_8',\r\n        src: './stills/Still8.png'\r\n    },\r\n    {\r\n        id: 'CARD_11',\r\n        src: './stills/Still11.png'\r\n    },\r\n    {\r\n        id: 'CARD_13',\r\n        src: './stills/Still13.png'\r\n    },\r\n    {\r\n        id: 'CARD_14',\r\n        src: './stills/Still14.png'\r\n    },\r\n    {\r\n        id: 'CARD_15',\r\n        src: './stills/Still15.png'\r\n    },\r\n    {\r\n        id: 'CARD_16',\r\n        src: './stills/Still16.png'\r\n    },\r\n    {\r\n        id: 'CARD_17',\r\n        src: './stills/Still17.png'\r\n    },\r\n    {\r\n        id: 'CARD_18',\r\n        src: './stills/Still19.png'\r\n    },\r\n    {\r\n        id: 'CARD_20',\r\n        src: './stills/Still21.png'\r\n    },\r\n    {\r\n        id: 'CARD_22',\r\n        src: './stills/Still23.png'\r\n    },\r\n    {\r\n        id: 'CARD_23',\r\n        src: './stills/Still24.png'\r\n    },\r\n    {\r\n        id: 'CARD_24',\r\n        src: './stills/Still25.png'\r\n    },\r\n    {\r\n        id: 'CARD_26',\r\n        src: './stills/Still27.png'\r\n    },\r\n    {\r\n        id: 'CARD_30',\r\n        src: './stills/Still31.png'\r\n    },\r\n    {\r\n        id: 'CARD_32',\r\n        src: './stills/Still33.png'\r\n    },\r\n    {\r\n        id: 'CARD_34',\r\n        src: './stills/Still35.png'\r\n    }\r\n]\r\n\r\nconst PLACARDS = [\r\n    {\r\n        id: 'PLACARD_1',\r\n        src: './placards/placard1/card9.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_2',\r\n        src: './placards/placard2/card10.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_3',\r\n        src: './placards/placard3/placard3.json',\r\n        after: {\r\n            idx: 33\r\n        }\r\n    }\r\n]\r\n\r\n// const OVERLAYS = {\r\n//     COLUMN1: {\r\n//         src: './overlays/Column_Warped2.png'\r\n//     }\r\n// }\r\n\r\nconst MARGIN = {\r\n    x: 20,\r\n    y: 30\r\n}\r\n\r\nconst FRAMERATE = 15\r\n\r\nconst TOTAL_ASSETS = SPRITE_SHEETS.length + PLACARDS.length + STILLS.length\r\n\r\nconst FIRST_SPRITE = 'CARD_1'\r\nconst FIRST_PLACARD = 'PLACARD_1'\r\n\r\nexport {FIRST_SPRITE, FIRST_PLACARD, FRAMERATE, MARGIN, PLACARDS, STILLS, SPRITE_SHEETS, TYPES, TOTAL_ASSETS}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport { PLACARDS, FIRST_PLACARD, MARGIN } from '../utils/constants'\r\n\r\nexport default class Placard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.props.stage.addChild(this.spriteEl)\r\n        this.play()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        this.props.handleLoad(this.props.id)\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    play = () => {\r\n        this.spriteEl.play()\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 200\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        let cardHeight = transform.h * 2.4\r\n        let yOffset = this.props.after.idx * cardHeight + (this.props.after.idx + 1) * MARGIN.y * 2\r\n        PLACARDS.forEach(placard => {\r\n            let i = placard.id.split('_')\r\n            let idx = Number(i[i.length - 1]) - 1\r\n            if (this.state.idx > idx) {\r\n                yOffset += transform.h + MARGIN.y * 2\r\n            }\r\n        })\r\n        transform.y = yOffset + innerHeight\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.setTransform(transform.x, transform.y, scale, scale)\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_PLACARD) {\r\n            this.props.setTransform(transform, 'placards')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport {FIRST_SPRITE, MARGIN, PLACARDS} from '../utils/constants'\r\n\r\nexport default class Sprite extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.stop()\r\n        this.addEventListener()\r\n        this.props.stage.addChild(this.spriteEl)\r\n    }\r\n\r\n    addEventListener = () => {\r\n        this.spriteEl.addEventListener('click', this.onClick)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    checkBounds = () => {\r\n        let {transform} = this.state\r\n        let isHeightBiggerThanScreen = transform.h > this.props.stage.canvas.height\r\n        if (this.state.isPlaying) {\r\n            if (isHeightBiggerThanScreen) {\r\n                if (-this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                    this.stop()\r\n                }\r\n            } else if (transform.y < -this.props.y || transform.y + transform.h > -this.props.y + this.props.stage.canvas.height) {\r\n                this.stop()\r\n            }\r\n        } else {\r\n            if (!transform || this.state.hasPlayed) return\r\n            if (isHeightBiggerThanScreen && -this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                this.play()\r\n            } else if (transform.y > -this.props.y && transform.y + transform.h < -this.props.y + this.props.stage.canvas.height) {\r\n                this.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        if (prevProps.y !== this.props.y) {\r\n            // Check if out of bounds\r\n            this.checkBounds()\r\n        }\r\n    }\r\n\r\n    check = () => {\r\n        let hasFinished = this.spriteEl.currentFrame === this.spriteEl.spriteSheet._frames.length - 1\r\n        if (hasFinished) {\r\n            this.stop()\r\n            this.setState({\r\n                hasPlayed: true\r\n            })\r\n            createjs.Ticker.off('tick', this.check)\r\n        }\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        this.props.handleLoad(this.props.id, 'sprites')\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        console.log(loader)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    onClick = ev => {\r\n        if (this.state.hasPlayed) {\r\n            this.play()\r\n            // this.props.changeCurrent(this.id, true)\r\n        }\r\n    }\r\n\r\n    play = () => {\r\n        if (this.state.hasPlayed) {\r\n            this.spriteEl.gotoAndPlay(0)\r\n            this.setState({\r\n                hasPlayed: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isPlaying: true\r\n            })\r\n            this.spriteEl.play()\r\n            createjs.Ticker.on('tick', this.check)\r\n        }\r\n    }\r\n\r\n    stop = () => {\r\n        this.spriteEl.stop()\r\n        this.setState({\r\n            isPlaying: false\r\n        })\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.scaleX = scale\r\n        this.spriteEl.scaleY = scale\r\n        this.spriteEl.x = transform.x\r\n        this.spriteEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_SPRITE) {\r\n            this.props.setTransform(transform, 'sprites')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport {PLACARDS, MARGIN} from '../utils/constants'\r\n\r\nexport default class Still extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.props.stage.addChild(this.stillEl)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.stillEl = new createjs.Bitmap(data.target, this.props.id)\r\n        this.props.handleLoad(this.props.id, 'stills')\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = this.props.src\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.stillEl.scaleX = scale\r\n        this.stillEl.scaleY = scale\r\n        this.stillEl.x = transform.x\r\n        this.stillEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport Landing from './Landing'\r\nimport Placard from './Placard'\r\nimport Sprite from './Sprite'\r\nimport Still from './Still'\r\nimport {FRAMERATE, SPRITE_SHEETS, TOTAL_ASSETS, MARGIN, STILLS, PLACARDS} from '../utils/constants'\r\n\r\nwindow.createjs = createjs\r\n\r\nclass Stage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      areButtonsShowing: false,\r\n      assetTransform: {sprites: {}, placards: {}},\r\n      hasLoaded: false,\r\n      hasScrolled: false,\r\n      y: 0,\r\n      lowerBound: 0,\r\n      loadedElements: 0\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setup()\r\n    this.addEventListeners()\r\n    this.changeBackground()\r\n  }\r\n\r\n  addEventListeners = () => {\r\n    document.addEventListener('mousewheel', this.scroll)\r\n    document.addEventListener('DOMMouseScroll', this.scroll)\r\n    window.addEventListener('resize', this.resize)\r\n  }\r\n\r\n  calculateLowerBound = () => {\r\n    let numOfSprites = SPRITE_SHEETS.length + STILLS.length\r\n    let numOfPlacards = PLACARDS.length\r\n    let lowerBound = numOfSprites * this.state.assetTransform.sprites.h + numOfPlacards * this.state.assetTransform.placards.h\r\n    lowerBound += TOTAL_ASSETS * MARGIN.y * 2\r\n    this.setState({\r\n      lowerBound\r\n    })\r\n  }\r\n\r\n  changeBackground = () => {\r\n    let hue = 360\r\n\r\n    let changeHue = () => {\r\n        var col1 = Math.abs((hue % 720) - 360)\r\n        var col2 = Math.abs(((hue+90) % 720) - 360)\r\n        hue++\r\n\r\n        document.body.style.background = 'linear-gradient(to right, hsl(' + col1 + ',70%, 75%) 0%,hsl(' + col2 + ',90%,75%) 100%)'\r\n    }\r\n\r\n    setInterval(changeHue, 64)\r\n  }\r\n\r\n  draw = () => {\r\n    this.stage.update()\r\n  }\r\n\r\n  onLoad = () => {\r\n    let hasLoaded = this.state.loadedElements + 1 === TOTAL_ASSETS\r\n    this.setState({\r\n      loadedElements: this.state.loadedElements + 1,\r\n      hasLoaded\r\n    })\r\n    if (hasLoaded) {\r\n      this.calculateLowerBound()\r\n    }\r\n  }\r\n\r\n  scroll = ev => {\r\n    let y = this.state.y - ev.deltaY / 2\r\n    if (Math.abs(y) > window.innerHeight && !this.areButtonsShowing) {\r\n      // Show buttons\r\n    } else if (Math.abs(this.state.y) < window.innerHeight && this.areButtonsShowing) {\r\n      // Hide buttons\r\n    }\r\n\r\n    if (y > 0) {\r\n        return\r\n    }\r\n\r\n    if (-y > this.state.lowerBound && this.state.lowerBound) {\r\n        return\r\n    }\r\n    \r\n    this.setState({\r\n      hasScrolled: true,\r\n      y\r\n    })\r\n\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y\r\n    }, 300)\r\n  }\r\n\r\n  setTransform = (spriteTransform, type) => {\r\n    this.setState({\r\n      assetTransform: Object.assign({}, this.state.assetTransform, {[type]: spriteTransform})\r\n    })\r\n  }\r\n\r\n  setup = () => {\r\n    this.stage = new createjs.Stage('canvas')\r\n    let ctx = this.stage.canvas.getContext('2d')\r\n    ctx.webkitImageSmoothingEnabled = ctx.mozImageSmoothingEnabled = true\r\n\r\n    this.resize()\r\n\r\n    // Ticker\r\n    createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED\r\n    createjs.Ticker.framerate = FRAMERATE\r\n    createjs.Ticker.on('tick', this.draw)\r\n    this.stage.enableMouseOver(20)\r\n  }\r\n\r\n  renderLanding = () => (\r\n    <Landing\r\n      stage={this.stage}\r\n      loadedPercentage={this.state.loadedElements / TOTAL_ASSETS}\r\n      hasScrolled={this.state.hasScrolled}\r\n    />\r\n  )\r\n\r\n  renderPlacard = ({id, src, after}) => {\r\n    return <Placard \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      after={after}\r\n    />\r\n  }\r\n\r\n  renderSprite = ({id, src}) => {\r\n    return <Sprite \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      y={this.state.y}\r\n     />\r\n  }\r\n\r\n  renderStill = ({id, src}) => (\r\n    <Still \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      src={src}\r\n     />\r\n    )\r\n\r\n  resize = () => {\r\n    let currentPos = this.state.y / this.state.lowerBound\r\n    this.stage.canvas.width = window.innerWidth\r\n    this.stage.canvas.height = window.innerHeight\r\n    this.stage.scaleX = window.innerWidth / this.stage.canvas.width\r\n    this.stage.scaleY = window.innerHeight / this.stage.canvas.height\r\n\r\n    if (this.state.hasLoaded) {\r\n        this.calculateLowerBound()\r\n        // this.landing.resize()\r\n\r\n        let deltaY = this.state.y - currentPos * this.state.lowerBound\r\n        let y = this.state.y - deltaY\r\n\r\n        if (y > this.lowerBound) {\r\n            y = -this.lowerBound\r\n        }\r\n\r\n        createjs.Tween.get(this.stage).to({\r\n          y\r\n        }, 200)\r\n\r\n        this.setState({\r\n          y\r\n        })\r\n\r\n        this.stage.update()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <canvas id=\"canvas\"></canvas>\r\n        {this.renderLanding()}\r\n        {SPRITE_SHEETS.map(this.renderSprite)}\r\n        {STILLS.map(this.renderStill)}\r\n        {PLACARDS.map(this.renderPlacard)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Stage\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './css/style.css'\r\nimport './css/media.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Stage from './components/Stage'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Stage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}