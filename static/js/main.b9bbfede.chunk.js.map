{"version":3,"sources":["components/Landing.js","constants/constants.js","components/Placard.js","components/Sprite.js","components/Still.js","components/Buttons.js","constants/text.js","components/Popup.js","components/Stage.js","reportWebVitals.js","index.js"],"names":["Landing","props","create","load","createContainer","createTitle","createInstructions","add","addEventListener","window","resize","componentDidUpdate","prevProps","stage","state","hasAddedToStage","setState","hasScrolled","addClickInstructions","loadedPercentage","addLoading","addChild","container","addArrow","width","innerWidth","arrowEl","setTransform","canvas","innerHeight","height","image","arrowY","animateArrow","arrowHeight","fontSize","y","text","createjs","Text","set","x","font","lineWidth","textAlign","scaleX","removeChild","fill","bar","Tween","get","override","to","arrowTween","call","Container","setBounds","hasLoaded","createLoadingBar","scale","Shape","graphics","setStrokeStyle","beginStroke","drawRoundRectComplex","endStroke","beginLinearGradientFill","textContainer","handleLoad","data","Bitmap","target","Image","src","onload","removeLoading","removeAllTweens","React","Component","SPRITE_SHEETS","id","STILLS","PLACARDS","after","idx","MARGIN","TOTAL_ASSETS","length","Placard","transform","spriteEl","play","sprite","Sprite","result","loader","LoadQueue","manifest","type","crossOrigin","loadManifest","on","margin","w","h","rectWidth","toResize","isScreenSmall","cardHeight","yOffset","forEach","placard","i","split","Number","this","stop","addEventListeners","onClick","calculateYOffset","checkBounds","isHeightBiggerThanScreen","isPlaying","hasPlayed","queue","popup","check","currentFrame","spriteSheet","_frames","Ticker","off","item","console","log","ev","gotoAndPlay","scaleY","Still","stillEl","Buttons","onButtonClick","setPopup","className","showButtons","TEXT","audrey","header","html","doris","hettie","about","video","Popup","close","renderClose","renderText","__html","which","dangerouslySetInnerHTML","Stage","componentWillUnmount","document","removeEventListener","scroll","clearInterval","changeHue","isTouchDevice","body","onTouchStart","calculateLowerBound","numOfSprites","numOfPlacards","lowerBound","assetTransform","sprites","placards","changeBackground","hue","setInterval","col1","Math","abs","col2","style","background","draw","update","navigator","maxTouchPoints","msMaxTouchPoints","onLoad","loadedElements","startY","touches","pageY","deltaY","areButtonsShowing","spriteTransform","Object","assign","setup","ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","Touch","enable","timingMode","RAF_SYNCHED","framerate","maintainScriptOrder","enableMouseOver","renderLanding","renderPlacard","renderPopup","renderSprite","loaded","renderStill","currentPos","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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B,CAClB,CACIC,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,iCASPQ,EAAS,CACX,CACID,GAAI,SACJP,IAAK,uBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,yBAIPS,EAAW,CACb,CACIF,GAAI,YACJP,IAAK,iCACLU,MAAO,CACHC,IAAK,IAGb,CACIJ,GAAI,YACJP,IAAK,kCACLU,MAAO,CACHC,IAAK,IAGb,CACIJ,GAAI,YACJP,IAAK,oCACLU,MAAO,CACHC,IAAK,MAWXC,EACC,GADDA,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","file":"static/js/main.b9bbfede.chunk.js","sourcesContent":["import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nexport default class Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasAddedToStage: false\r\n        }\r\n    }\r\n\r\n    create = () => {\r\n        this.load()\r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        if (this.props.stage && !this.state.hasAddedToStage) {\r\n            this.create()\r\n            this.setState({\r\n                hasAddedToStage: true\r\n            })\r\n        }\r\n        if (!prevProps.hasScrolled && this.props.hasScrolled) {\r\n            this.addClickInstructions()\r\n        }\r\n        if (this.props.loadedPercentage !== prevProps.loadedPercentage) {\r\n            this.addLoading()\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.props.stage.addChild(this.container)\r\n    }\r\n\r\n    addArrow = () => {\r\n        let width = window.innerWidth / 15\r\n        this.arrowEl.setTransform(\r\n            this.props.stage.canvas.width / 2 - width / 2, \r\n            window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10,\r\n            width / this.arrowEl.image.width,\r\n            width / this.arrowEl.image.width\r\n        )\r\n\r\n        this.arrowY = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10\r\n        this.container.addChild(this.arrowEl)\r\n        this.animateArrow()\r\n    }\r\n\r\n    addClickInstructions = () => {\r\n        let arrowHeight = window.innerWidth / 15 + 10\r\n        let fontSize = window.innerHeight / 20\r\n        let y = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 20 + arrowHeight\r\n        let text = new createjs.Text().set({\r\n            text: 'CLICK TO REPLAY COMICS',\r\n            x: 0,\r\n            y,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        this.container.addChild(text)\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n    }\r\n\r\n    addLoading = () => {\r\n        let scaleX = this.props.loadedPercentage\r\n        if (scaleX >= 1) {\r\n            this.container.removeChild(this.fill)\r\n            this.container.removeChild(this.bar)\r\n            return\r\n        }\r\n\r\n        createjs.Tween\r\n            .get(this.fill, {override: true})\r\n            .to({\r\n                scaleX\r\n            }, 150)\r\n    }\r\n\r\n    animateArrow = () => {\r\n        this.arrowTween = createjs.Tween\r\n            .get(this.arrowEl)\r\n            .to({\r\n                y: this.arrowY - 10\r\n            }, 500)\r\n            .to({\r\n                y: this.arrowY + 10\r\n            }, 500)\r\n            .call(() => {\r\n                this.animateArrow()\r\n        })\r\n    }\r\n\r\n    createContainer = () => {\r\n        let container = new createjs.Container()\r\n        this.container = container\r\n        container.setBounds(0, 0, window.innerWidth, window.innerHeight)\r\n        if (!this.props.hasLoaded) {\r\n            let {bar, fill} = this.createLoadingBar()\r\n            container.addChild(bar)\r\n            container.addChild(fill)\r\n            this.fill = fill\r\n            this.bar = bar\r\n        }\r\n        this.setState({\r\n            scale: {x: window.innerWidth, y: window.innerHeight}\r\n        })\r\n    }\r\n\r\n    createInstructions = () => {\r\n        let fontSize = window.innerHeight / 20\r\n        let text = new createjs.Text().set({\r\n            text: 'SCROLL',\r\n            x: 0,\r\n            y: window.innerHeight / 5 + this.props.stage.canvas.height / 2,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n        this.container.addChild(text)\r\n    }\r\n\r\n    createLoadingBar = () => {\r\n        let bar = new createjs.Shape()\r\n        let width = window.innerWidth / 4\r\n        let y = this.props.stage.canvas.height / 2\r\n        bar.graphics.setStrokeStyle(3)\r\n            .beginStroke('black')\r\n            .drawRoundRectComplex((window.innerWidth - width) / 2, y, width, 30, 5, 5, 5, 5)\r\n            .endStroke()\r\n\r\n        let fill = new createjs.Shape()\r\n            .set({\r\n                scaleX: 0,\r\n                x: (window.innerWidth - width) / 2 + 1.5,\r\n                y: y + 1.5\r\n            })\r\n        fill.graphics\r\n            .beginLinearGradientFill([\"#4158D0\",\"#C850C0\", \"#FFCC70\"],  [0, .46, 1], 0, 100, 200, 300)\r\n            .drawRoundRectComplex(0, 0, width - 3, 27, 5, 5, 5, 5)\r\n\r\n        return {bar, fill}\r\n    }\r\n\r\n    createTitle = () => {\r\n        let textContainer = new createjs.Container()\r\n        let fontSize = window.innerHeight / 10\r\n        let text = new createjs.Text().set({\r\n            text: 'THE CARYATID REVOLUTION',\r\n            x: 0,\r\n            y: 0,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        textContainer.addChild(text)\r\n        text.textAlign = 'center'\r\n        textContainer.x = this.props.stage.canvas.width / 2\r\n        textContainer.y = this.props.stage.canvas.height / 2 - this.props.stage.canvas.height / 5\r\n        this.container.addChild(textContainer)\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.arrowEl = new createjs.Bitmap(data.target, 'down-arrow')\r\n        this.addArrow()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = './title/down-arrow.png'\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    removeLoading = () => {\r\n        this.container.removeChild(this.fill)\r\n        this.container.removeChild(this.bar)\r\n    }\r\n\r\n    resize = () => {\r\n        this.props.stage.removeChild(this.container)\r\n        this.props.stage.removeChild(this.arrowEl)\r\n        createjs.Tween.removeAllTweens()        \r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.addArrow()\r\n        this.add()\r\n    }\r\n    \r\n    render() {\r\n        return null\r\n    }\r\n}","\r\nconst SPRITE_SHEETS = [\r\n    {\r\n        id: 'CARD_1',\r\n        src: './sprites/card1/card1.json'\r\n    },\r\n    {\r\n        id: 'CARD_2',\r\n        src: './sprites/card2/card2.json'\r\n    },\r\n    {\r\n        id: 'CARD_3',\r\n        src: './sprites/card3/card3.json'\r\n    },\r\n    {\r\n        id: 'CARD_4',\r\n        src: './sprites/card4/card4.json'\r\n    },\r\n    {\r\n        id: 'CARD_5',\r\n        src: './sprites/card5/card5.json'\r\n    },\r\n    {\r\n        id: 'CARD_6',\r\n        src: './sprites/card6/card6.json'\r\n    },\r\n    {\r\n        id: 'CARD_7',\r\n        src: './sprites/card7/card7.json'\r\n    },\r\n    {\r\n        id: 'CARD_9',\r\n        src: './sprites/card9/card9.json'\r\n    },\r\n    {\r\n        id: 'CARD_10',\r\n        src: './sprites/card10/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_12',\r\n        src: './sprites/card12/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_19',\r\n        src: './sprites/card20/card20.json'\r\n    },\r\n    {\r\n        id: 'CARD_21',\r\n        src: './sprites/card22/card22.json'\r\n    },\r\n    {\r\n        id: 'CARD_25',\r\n        src: './sprites/card26/card26.json'\r\n    },\r\n    {\r\n        id: 'CARD_27',\r\n        src: './sprites/card28/card28.json'\r\n    },\r\n    {\r\n        id: 'CARD_28',\r\n        src: './sprites/card29/card29.json'\r\n    },\r\n    {\r\n        id: 'CARD_29',\r\n        src: './sprites/card30/card30.json'\r\n    },\r\n    {\r\n        id: 'CARD_31',\r\n        src: './sprites/card32/card32.json'\r\n    },\r\n    {\r\n        id: 'CARD_33',\r\n        src: './sprites/card34/card34.json'\r\n    },\r\n    {\r\n        id: 'CARD_35',\r\n        src: './sprites/card36/card36.json'\r\n    },\r\n    {\r\n        id: 'CARD_36',\r\n        src: './sprites/card37/card37.json'\r\n    }\r\n]\r\n\r\nconst TYPES = {\r\n    CARD: 'CARD',\r\n    PLACARD: 'PLACARD'\r\n}\r\n\r\nconst STILLS = [\r\n    {\r\n        id: 'CARD_8',\r\n        src: './stills/Still8.png'\r\n    },\r\n    {\r\n        id: 'CARD_11',\r\n        src: './stills/Still11.png'\r\n    },\r\n    {\r\n        id: 'CARD_13',\r\n        src: './stills/Still13.png'\r\n    },\r\n    {\r\n        id: 'CARD_14',\r\n        src: './stills/Still14.png'\r\n    },\r\n    {\r\n        id: 'CARD_15',\r\n        src: './stills/Still15.png'\r\n    },\r\n    {\r\n        id: 'CARD_16',\r\n        src: './stills/Still16.png'\r\n    },\r\n    {\r\n        id: 'CARD_17',\r\n        src: './stills/Still17.png'\r\n    },\r\n    {\r\n        id: 'CARD_18',\r\n        src: './stills/Still19.png'\r\n    },\r\n    {\r\n        id: 'CARD_20',\r\n        src: './stills/Still21.png'\r\n    },\r\n    {\r\n        id: 'CARD_22',\r\n        src: './stills/Still23.png'\r\n    },\r\n    {\r\n        id: 'CARD_23',\r\n        src: './stills/Still24.png'\r\n    },\r\n    {\r\n        id: 'CARD_24',\r\n        src: './stills/Still25.png'\r\n    },\r\n    {\r\n        id: 'CARD_26',\r\n        src: './stills/Still27.png'\r\n    },\r\n    {\r\n        id: 'CARD_30',\r\n        src: './stills/Still31.png'\r\n    },\r\n    {\r\n        id: 'CARD_32',\r\n        src: './stills/Still33.png'\r\n    },\r\n    {\r\n        id: 'CARD_34',\r\n        src: './stills/Still35.png'\r\n    }\r\n]\r\n\r\nconst PLACARDS = [\r\n    {\r\n        id: 'PLACARD_1',\r\n        src: './placards/placard1/card9.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_2',\r\n        src: './placards/placard2/card10.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_3',\r\n        src: './placards/placard3/placard3.json',\r\n        after: {\r\n            idx: 33\r\n        }\r\n    }\r\n]\r\n\r\n// const OVERLAYS = {\r\n//     COLUMN1: {\r\n//         src: './overlays/Column_Warped2.png'\r\n//     }\r\n// }\r\n\r\nconst MARGIN = {\r\n    x: 20,\r\n    y: 30\r\n}\r\n\r\nconst POPUPS = {\r\n    AUDREY: 'audrey',\r\n    HETTIE: 'hettie',\r\n    DORIS: 'doris',\r\n    ABOUT: 'about',\r\n    VIDEO: 'video'\r\n}\r\n\r\nconst FRAMERATE = 15\r\n\r\nconst TOTAL_ASSETS = SPRITE_SHEETS.length + PLACARDS.length + STILLS.length\r\n\r\nconst FIRST_SPRITE = 'CARD_1'\r\nconst FIRST_PLACARD = 'PLACARD_1'\r\n\r\nexport {POPUPS, FIRST_SPRITE, FIRST_PLACARD, FRAMERATE, MARGIN, PLACARDS, STILLS, SPRITE_SHEETS, TYPES, TOTAL_ASSETS}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport { PLACARDS, FIRST_PLACARD, MARGIN } from '../constants/constants'\r\n\r\nexport default class Placard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.addEventListener()\r\n        this.props.stage.addChild(this.spriteEl)\r\n        this.play()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        this.props.handleLoad(this.props.id)\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    play = () => {\r\n        this.spriteEl.play()\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 200\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        let cardHeight = transform.h * 2.4\r\n        let yOffset = this.props.after.idx * cardHeight + (this.props.after.idx + 1) * MARGIN.y * 2\r\n        PLACARDS.forEach(placard => {\r\n            let i = placard.id.split('_')\r\n            let idx = Number(i[i.length - 1]) - 1\r\n            if (this.state.idx > idx) {\r\n                yOffset += transform.h + MARGIN.y * 2\r\n            }\r\n        })\r\n        transform.y = yOffset + innerHeight\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.setTransform(transform.x, transform.y, scale, scale)\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_PLACARD) {\r\n            this.props.setTransform(transform, 'placards')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport {FIRST_SPRITE, MARGIN, PLACARDS} from '../constants/constants'\r\n\r\nexport default class Sprite extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.stop()\r\n        this.addEventListeners()\r\n        this.props.stage.addChild(this.spriteEl)\r\n    }\r\n\r\n    addEventListeners = () => {\r\n        this.spriteEl.addEventListener('click', this.onClick)\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    checkBounds = () => {\r\n        let {transform} = this.state\r\n        let isHeightBiggerThanScreen = transform.h > this.props.stage.canvas.height\r\n        if (this.state.isPlaying) {\r\n            if (isHeightBiggerThanScreen) {\r\n                if (-this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                    this.stop()\r\n                }\r\n            } else if (transform.y < -this.props.y || transform.y + transform.h > -this.props.y + this.props.stage.canvas.height) {\r\n                this.stop()\r\n            }\r\n        } else {\r\n            if (!transform || this.state.hasPlayed) return\r\n            if (isHeightBiggerThanScreen && -this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                this.play()\r\n            } else if (transform.y > -this.props.y && transform.y + transform.h < -this.props.y + this.props.stage.canvas.height) {\r\n                this.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        if (prevProps.y !== this.props.y) {\r\n            // Check if out of bounds\r\n            this.checkBounds()\r\n        }\r\n\r\n        if (!prevProps.queue && this.props.queue) {\r\n            this.load()\r\n        }\r\n\r\n        if (!prevProps.popup && this.props.popup && this.state.isPlaying) {\r\n            this.stop()\r\n        }\r\n    }\r\n\r\n    check = () => {\r\n        let hasFinished = this.spriteEl.currentFrame === this.spriteEl.spriteSheet._frames.length - 1\r\n        if (hasFinished) {\r\n            this.stop()\r\n            this.setState({\r\n                hasPlayed: true\r\n            })\r\n            createjs.Ticker.off('tick', this.check)\r\n        }\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        if (sprite.item.id === this.props.id) {\r\n            this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n            this.props.handleLoad(this.props.id, 'sprites')\r\n            this.add()\r\n        }\r\n\r\n        // this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        console.log(this.props.queue)\r\n        this.props.queue.loadManifest(manifest, true)\r\n        this.props.queue.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    onClick = ev => {\r\n        if (this.state.hasPlayed) {\r\n            this.play()\r\n            // this.props.changeCurrent(this.id, true)\r\n        }\r\n    }\r\n\r\n    play = () => {\r\n        if (this.state.hasPlayed) {\r\n            this.spriteEl.gotoAndPlay(0)\r\n            this.setState({\r\n                hasPlayed: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isPlaying: true\r\n            })\r\n            this.spriteEl.play()\r\n            createjs.Ticker.on('tick', this.check)\r\n        }\r\n    }\r\n\r\n    stop = () => {\r\n        this.spriteEl.stop()\r\n        this.setState({\r\n            isPlaying: false\r\n        })\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.scaleX = scale\r\n        this.spriteEl.scaleY = scale\r\n        this.spriteEl.x = transform.x\r\n        this.spriteEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_SPRITE) {\r\n            this.props.setTransform(transform, 'sprites')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport {PLACARDS, MARGIN} from '../constants/constants'\r\n\r\nexport default class Still extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.props.stage.addChild(this.stillEl)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.stillEl = new createjs.Bitmap(data.target, this.props.id)\r\n        this.props.handleLoad(this.props.id, 'stills')\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = this.props.src\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.stillEl.scaleX = scale\r\n        this.stillEl.scaleY = scale\r\n        this.stillEl.x = transform.x\r\n        this.stillEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Buttons extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    onButtonClick = ev => {\r\n        this.props.setPopup(ev.target.id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`buttons ${this.props.showButtons ? 'visible' : 'hidden'}`}>\r\n                <div id=\"buttons-container\" className=\"buttons-container\">\r\n                    <div id=\"audrey\" className=\"button\" onClick={this.onButtonClick}>AUDREY</div>\r\n                    <div id=\"doris\" className=\"button\" onClick={this.onButtonClick}>DORIS</div>\r\n                    <div id=\"hettie\" className=\"button\" onClick={this.onButtonClick}>HETTIE</div>\r\n                </div>\r\n                <div id=\"bottom-buttons-container\" className=\"bottom-button-container\">\r\n                    <div id=\"about\" className=\"button\" onClick={this.onButtonClick}>ABOUT</div>\r\n                    <div id=\"video\" className=\"button\" onClick={this.onButtonClick}>THE VIDEO</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const AUDREY_TEXT = {\r\n    header:  'AUDREY',\r\n    html: `\r\n    <div>\r\n        Born on June 8, 1891 in Rochester, NY, Audrey Munson was catapulted from a young age to fame, which according to her mother, was her destiny forecasted as a young child. At five-years-old, Audrey’s mother, Katherine Mahaney, took her daughter to see Gypsy Queen Eliza who was visiting from England. Eliza looked at Audrey and predicted:\r\n    </div>\r\n    <div class=\"quote\">\r\n        “You shall be beloved and famous. But when you think that happiness is yours, its Dead Sea fruit shall turn to ashes in your mouth.”\r\n    </div>\r\n    `\r\n}\r\n\r\nconst DORIS_TEXT = {\r\n    header:  'DORIS',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst HETTIE_TEXT = {\r\n    header:  'HETTIE',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst ABOUT_TEXT = {\r\n    header: 'ABOUT',\r\n    html: `\r\n    <div>\r\n        In New York City, there are only five monuments of named women but hundreds of anonymous ones such as caryatids, architectural columns in the form of feminine bodies. The male monument is allowed individuality while her body is an allegory, inexpressible and unable to exist independently as flesh and blood. Looking for the original women behind the sculptures, I found Audrey Munson, Hettie Anderson, and Doris Doscher, three models who posed for many of the unnamed sculptures found in New York and across the United States. <br><br>\r\n\r\n        <i>The Caryatid Rebellion</i> is an interactive comic and 7-minute video experience based on Hettie, Audrey, and Doris and their uprising against the buildings and institutions they have been forced to carry. With music by Violet June of Machine+, the experience begins with the caryatids’ current state, holding up buildings and institutions that continue to exclude and oppress, and documents their eventual rebellion and reclamation of the built world. Creating this world also involved my own process of rebellion by 3D modeling Korean architecture and designing avatars that looked more like me and other people of color, subverting the encoded white standards of beauty in Neoclassical architecture.\r\n    </div>\r\n\r\n    <h1>CREDITS</h1>\r\n    `\r\n}\r\n\r\nconst VIDEO_TEXT = {\r\n    header: 'WATCH THE REBELLION',\r\n    html: `\r\n    <iframe src=\"https://player.vimeo.com/video/541132130\" width=\"640\" height=\"360\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen></iframe>\r\n    `\r\n}\r\n\r\nconst TEXT = {\r\n    audrey: AUDREY_TEXT,\r\n    doris: DORIS_TEXT,\r\n    hettie: HETTIE_TEXT,\r\n    about: ABOUT_TEXT,\r\n    video: VIDEO_TEXT\r\n}\r\n\r\nexport default TEXT","import React from \"react\"\r\n\r\nimport TEXT from '../constants/text'\r\n\r\nexport default class Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    close = () => {\r\n        this.props.setPopup(null)\r\n    }\r\n    renderClose = () => (\r\n        <div className=\"close-container\">\r\n            <div \r\n                onClick={this.close}\r\n                className=\"close\"></div>\r\n        </div>\r\n    )\r\n\r\n    renderText = () => (\r\n        {\r\n            __html: TEXT[this.props.which].html\r\n        }\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"popup-container visible\">\r\n                {this.renderClose()}\r\n                <div className=\"text\">\r\n                    <h1>{TEXT[this.props.which].header}</h1>\r\n                </div>\r\n                <div className=\"description\">\r\n                    <div dangerouslySetInnerHTML={this.renderText()} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport Landing from './Landing'\r\nimport Placard from './Placard'\r\nimport Sprite from './Sprite'\r\nimport Still from './Still'\r\nimport Buttons from './Buttons'\r\nimport {FRAMERATE, SPRITE_SHEETS, TOTAL_ASSETS, MARGIN, STILLS, PLACARDS, POPUPS} from '../constants/constants'\r\nimport Popup from './Popup'\r\n\r\nwindow.createjs = createjs\r\n\r\nclass Stage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      areButtonsShowing: false,\r\n      assetTransform: {sprites: {}, placards: {}},\r\n      hasLoaded: false,\r\n      hasScrolled: false,\r\n      y: 0,\r\n      startY: 0,\r\n      isTouchDevice: false,\r\n      popup: null,\r\n      lowerBound: 0,\r\n      loadedElements: 0,\r\n      loaded: {sprites: 0, placards: 0}\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isTouchDevice: this.isTouchDevice()\r\n    })\r\n    this.setup()\r\n    this.addEventListeners()\r\n    this.changeBackground()\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener('mousewheel', this.scroll)\r\n    document.removeEventListener('DOMMouseScroll', this.scroll)\r\n    window.removeEventListener('resize', this.resize)\r\n    clearInterval(this.changeHue)\r\n  }\r\n\r\n  addEventListeners = () => {\r\n    document.addEventListener('mousewheel', this.scroll)\r\n    document.addEventListener('DOMMouseScroll', this.scroll)\r\n    if (this.isTouchDevice()) {\r\n      document.body.addEventListener('touchstart', this.onTouchStart)\r\n      document.body.addEventListener('touchmove', this.scroll)\r\n    }\r\n    window.addEventListener('resize', this.resize)\r\n  }\r\n\r\n  calculateLowerBound = () => {\r\n    let numOfSprites = SPRITE_SHEETS.length + STILLS.length\r\n    let numOfPlacards = PLACARDS.length\r\n    let lowerBound = numOfSprites * this.state.assetTransform.sprites.h + numOfPlacards * this.state.assetTransform.placards.h\r\n    lowerBound += TOTAL_ASSETS * MARGIN.y * 2 + MARGIN.y * 4\r\n    this.setState({\r\n      lowerBound\r\n    })\r\n  }\r\n\r\n  changeBackground = () => {\r\n    let hue = 360\r\n\r\n    let changeHue = () => {\r\n        var col1 = Math.abs((hue % 720) - 360)\r\n        var col2 = Math.abs(((hue+90) % 720) - 360)\r\n        hue++\r\n\r\n        document.body.style.background = 'linear-gradient(to right, hsl(' + col1 + ',70%, 75%) 0%,hsl(' + col2 + ',90%,75%) 100%)'\r\n    }\r\n\r\n    this.changeHue = setInterval(changeHue, 64)\r\n  }\r\n\r\n  draw = () => {\r\n    this.stage.update()\r\n  }\r\n\r\n  isTouchDevice = () => {\r\n    return (('ontouchstart' in window) ||\r\n      (navigator.maxTouchPoints > 0) ||\r\n      (navigator.msMaxTouchPoints > 0))\r\n  }\r\n\r\n  onLoad = () => {\r\n    let hasLoaded = this.state.loadedElements + 1 === TOTAL_ASSETS\r\n\r\n    this.setState({\r\n      loadedElements: this.state.loadedElements + 1,\r\n      hasLoaded,\r\n      // loaded: Object.assign({}, {[type]: [...this.state.loaded[type], id]}, this.state.loaded)\r\n    })\r\n\r\n    if (hasLoaded) {\r\n      this.calculateLowerBound()\r\n    }\r\n  }\r\n\r\n  onTouchStart = ev => {\r\n    this.setState({\r\n      startY: ev.touches[0].pageY\r\n    })\r\n  }\r\n\r\n  scroll = ev => {\r\n    if (this.state.popup) return\r\n\r\n    let y = this.state.isTouchDevice ?  this.state.y - (this.state.startY - ev.touches[0].pageY) * .05 : this.state.y - ev.deltaY / 2\r\n    if (Math.abs(y) > window.innerHeight && !this.state.areButtonsShowing) {\r\n      this.setState({\r\n        areButtonsShowing: true\r\n      })\r\n    } else if (Math.abs(this.state.y) < window.innerHeight && this.state.areButtonsShowing) {\r\n      // Hide buttons\r\n      this.setState({\r\n        areButtonsShowing: false\r\n      })\r\n    }\r\n\r\n    if (y > 0) {\r\n        return\r\n    }\r\n\r\n    if (-y > this.state.lowerBound && this.state.lowerBound) {\r\n        return\r\n    }\r\n    \r\n    this.setState({\r\n      hasScrolled: true,\r\n      y\r\n    })\r\n\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y\r\n    }, 1000)\r\n  }\r\n\r\n  setTransform = (spriteTransform, type) => {\r\n    this.setState({\r\n      assetTransform: Object.assign({}, this.state.assetTransform, {[type]: spriteTransform})\r\n    })\r\n  }\r\n\r\n  setup = () => {\r\n    this.stage = new createjs.Stage('canvas')\r\n    let ctx = this.stage.canvas.getContext('2d')\r\n    ctx.webkitImageSmoothingEnabled = ctx.mozImageSmoothingEnabled = true\r\n    createjs.Touch.enable(this.stage)\r\n\r\n    this.resize()\r\n\r\n    // Ticker\r\n    createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED\r\n    createjs.Ticker.framerate = FRAMERATE\r\n    createjs.Ticker.on('tick', this.draw)\r\n    \r\n    this.queue = new createjs.LoadQueue(true)\r\n    this.queue.maintainScriptOrder = true\r\n\r\n    this.stage.enableMouseOver(20)\r\n  }\r\n\r\n  renderLanding = () => (\r\n    <Landing\r\n      stage={this.stage}\r\n      loadedPercentage={this.state.loadedElements / TOTAL_ASSETS}\r\n      hasScrolled={this.state.hasScrolled}\r\n    />\r\n  )\r\n\r\n  renderPlacard = ({id, src, after}) => {\r\n    return <Placard \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      after={after}\r\n    />\r\n  }\r\n\r\n  renderPopup = () => (\r\n    <Popup\r\n      setPopup={this.setPopup}\r\n      which={this.state.popup}\r\n    />\r\n  )\r\n\r\n  renderSprite = ({id, src}) => {\r\n    return <Sprite \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      queue={this.queue}\r\n      src={src}\r\n      y={this.state.y}\r\n      popup={this.state.popup}\r\n      loaded={this.state.loaded}\r\n     />\r\n  }\r\n\r\n  renderStill = ({id, src}) => (\r\n    <Still \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      src={src}\r\n     />\r\n    )\r\n\r\n  resize = () => {\r\n    let currentPos = this.state.y / this.state.lowerBound\r\n    this.stage.canvas.width = window.innerWidth\r\n    this.stage.canvas.height = window.innerHeight\r\n    this.stage.scaleX = window.innerWidth / this.stage.canvas.width\r\n    this.stage.scaleY = window.innerHeight / this.stage.canvas.height\r\n\r\n    if (this.state.hasLoaded) {\r\n        this.calculateLowerBound()\r\n\r\n        let deltaY = this.state.y - currentPos * this.state.lowerBound\r\n        let y = this.state.y - deltaY\r\n\r\n        if (y > this.lowerBound) {\r\n            y = -this.lowerBound\r\n        }\r\n\r\n        createjs.Tween.get(this.stage).to({\r\n          y\r\n        }, 200)\r\n\r\n        this.setState({\r\n          y\r\n        })\r\n\r\n        this.stage.update()\r\n    }\r\n  }\r\n\r\n  setPopup = popup => {\r\n    let areButtonsShowing = !popup\r\n    this.setState({\r\n      popup,\r\n      areButtonsShowing\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <canvas id=\"canvas\" className={`${this.state.popup ? 'blurred' : ''}`}></canvas>\r\n        <Buttons\r\n          showButtons={this.state.areButtonsShowing}\r\n          setPopup={this.setPopup}\r\n        />\r\n        {this.state.popup ? this.renderPopup() : null}\r\n        {this.renderLanding()}\r\n        {SPRITE_SHEETS.map(this.renderSprite)}\r\n        {STILLS.map(this.renderStill)}\r\n        {PLACARDS.map(this.renderPlacard)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Stage\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './css/style.css'\r\nimport './css/media.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Stage from './components/Stage'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Stage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}