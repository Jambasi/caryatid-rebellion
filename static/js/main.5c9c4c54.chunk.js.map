{"version":3,"sources":["components/Landing.js","constants/constants.js","components/Placard.js","components/Sprite.js","components/Still.js","components/Buttons.js","constants/text.js","components/Popup.js","components/Stage.js","utils/utils.js","reportWebVitals.js","index.js"],"names":["Landing","props","create","load","createContainer","createTitle","createInstructions","add","addEventListener","window","resize","componentDidUpdate","prevProps","stage","state","hasAddedToStage","setState","hasScrolled","addClickInstructions","loadedPercentage","addLoading","addChild","container","addArrow","width","innerWidth","arrowEl","setTransform","canvas","innerHeight","height","image","arrowY","animateArrow","arrowHeight","fontSize","y","text","createjs","Text","set","x","font","lineWidth","textAlign","scaleX","removeChild","fill","bar","Tween","get","override","to","arrowTween","call","Container","setBounds","hasLoaded","createLoadingBar","scale","Shape","graphics","setStrokeStyle","beginStroke","drawRoundRectComplex","endStroke","beginLinearGradientFill","textContainer","handleLoad","data","Bitmap","target","Image","src","onload","removeLoading","removeAllTweens","React","Component","SPRITE_SHEETS","id","STILLS","PLACARDS","after","idx","MARGIN","TOTAL_ASSETS","length","Placard","transform","spriteEl","play","sprite","Sprite","result","loader","LoadQueue","manifest","type","crossOrigin","loadManifest","on","margin","w","h","rectWidth","toResize","isScreenSmall","cardHeight","yOffset","forEach","placard","i","split","Number","this","stop","addEventListeners","onClick","calculateYOffset","checkBounds","isHeightBiggerThanScreen","isPlaying","hasPlayed","currentSprite","queue","popup","check","currentFrame","spriteSheet","_frames","Ticker","removeEventListener","item","ev","force","gotoAndPlay","setCurrentSprite","scaleY","Still","stillEl","Buttons","onButtonClick","setPopup","className","showButtons","TEXT","audrey","header","html","doris","hettie","about","video","Popup","close","renderClose","renderText","__html","which","dangerouslySetInnerHTML","Stage","componentWillUnmount","document","scroll","clearInterval","changeHue","onScroll","navigator","maxTouchPoints","msMaxTouchPoints","getElementById","onMouseUp","onMouseDown","calculateLowerBound","numOfSprites","numOfPlacards","lowerBound","assetTransform","sprites","placards","changeBackground","hue","setInterval","col1","Math","abs","col2","body","style","background","draw","update","isTouchDevice","onLoad","loadedElements","mouseY","pageY","onMouseMove","deltaY","areButtonsShowing","Ease","sineOut","spriteTransform","Object","assign","setup","ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","Touch","enable","timingMode","RAF_SYNCHED","framerate","maintainScriptOrder","enableMouseOver","renderLanding","renderPlacard","renderPopup","renderSprite","loaded","renderStill","currentPos","setTimeout","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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B,CAClB,CACIC,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,SACJP,IAAK,8BAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,gCAET,CACIO,GAAI,UACJP,IAAK,iCASPQ,EAAS,CACX,CACID,GAAI,SACJP,IAAK,uBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,wBAET,CACIO,GAAI,UACJP,IAAK,yBAIPS,EAAW,CACb,CACIF,GAAI,YACJP,IAAK,iCACLU,MAAO,CACHC,IAAK,IAGb,CACIJ,GAAI,YACJP,IAAK,kCACLU,MAAO,CACHC,IAAK,IAGb,CACIJ,GAAI,YACJP,IAAK,oCACLU,MAAO,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","file":"static/js/main.5c9c4c54.chunk.js","sourcesContent":["import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nexport default class Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasAddedToStage: false\r\n        }\r\n    }\r\n\r\n    create = () => {\r\n        this.load()\r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.resize)\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n        if (this.props.stage && !this.state.hasAddedToStage) {\r\n            this.create()\r\n            this.setState({\r\n                hasAddedToStage: true\r\n            })\r\n        }\r\n        if (!prevProps.hasScrolled && this.props.hasScrolled) {\r\n            this.addClickInstructions()\r\n        }\r\n        if (this.props.loadedPercentage !== prevProps.loadedPercentage) {\r\n            this.addLoading()\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.props.stage.addChild(this.container)\r\n    }\r\n\r\n    addArrow = () => {\r\n        let width = window.innerWidth / 15\r\n        this.arrowEl.setTransform(\r\n            this.props.stage.canvas.width / 2 - width / 2, \r\n            window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10,\r\n            width / this.arrowEl.image.width,\r\n            width / this.arrowEl.image.width\r\n        )\r\n\r\n        this.arrowY = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 10\r\n        this.container.addChild(this.arrowEl)\r\n        this.animateArrow()\r\n    }\r\n\r\n    addClickInstructions = () => {\r\n        let arrowHeight = window.innerWidth / 15 + 10\r\n        let fontSize = window.innerHeight / 20\r\n        let y = window.innerHeight / 4 + this.props.stage.canvas.height / 2 + 20 + arrowHeight\r\n        let text = new createjs.Text().set({\r\n            text: 'CLICK TO REPLAY COMICS',\r\n            x: 0,\r\n            y,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        this.container.addChild(text)\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n    }\r\n\r\n    addLoading = () => {\r\n        let scaleX = this.props.loadedPercentage\r\n        if (scaleX >= 1) {\r\n            this.container.removeChild(this.fill)\r\n            this.container.removeChild(this.bar)\r\n            return\r\n        }\r\n\r\n        createjs.Tween\r\n            .get(this.fill, {override: true})\r\n            .to({\r\n                scaleX\r\n            }, 150)\r\n    }\r\n\r\n    animateArrow = () => {\r\n        this.arrowTween = createjs.Tween\r\n            .get(this.arrowEl)\r\n            .to({\r\n                y: this.arrowY - 10\r\n            }, 500)\r\n            .to({\r\n                y: this.arrowY + 10\r\n            }, 500)\r\n            .call(() => {\r\n                this.animateArrow()\r\n        })\r\n    }\r\n\r\n    createContainer = () => {\r\n        let container = new createjs.Container()\r\n        this.container = container\r\n        container.setBounds(0, 0, window.innerWidth, window.innerHeight)\r\n        if (!this.props.hasLoaded) {\r\n            let {bar, fill} = this.createLoadingBar()\r\n            container.addChild(bar)\r\n            container.addChild(fill)\r\n            this.fill = fill\r\n            this.bar = bar\r\n        }\r\n        this.setState({\r\n            scale: {x: window.innerWidth, y: window.innerHeight}\r\n        })\r\n    }\r\n\r\n    createInstructions = () => {\r\n        let fontSize = window.innerHeight / 20\r\n        let text = new createjs.Text().set({\r\n            text: 'SCROLL',\r\n            x: 0,\r\n            y: window.innerHeight / 5 + this.props.stage.canvas.height / 2,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        text.x = this.props.stage.canvas.width / 2\r\n        text.textAlign = 'center'\r\n        this.container.addChild(text)\r\n    }\r\n\r\n    createLoadingBar = () => {\r\n        let bar = new createjs.Shape()\r\n        let width = window.innerWidth / 4\r\n        let y = this.props.stage.canvas.height / 2\r\n        bar.graphics.setStrokeStyle(3)\r\n            .beginStroke('black')\r\n            .drawRoundRectComplex((window.innerWidth - width) / 2, y, width, 30, 5, 5, 5, 5)\r\n            .endStroke()\r\n\r\n        let fill = new createjs.Shape()\r\n            .set({\r\n                scaleX: 0,\r\n                x: (window.innerWidth - width) / 2 + 1.5,\r\n                y: y + 1.5\r\n            })\r\n        fill.graphics\r\n            .beginLinearGradientFill([\"#4158D0\",\"#C850C0\", \"#FFCC70\"],  [0, .46, 1], 0, 100, 200, 300)\r\n            .drawRoundRectComplex(0, 0, width - 3, 27, 5, 5, 5, 5)\r\n\r\n        return {bar, fill}\r\n    }\r\n\r\n    createTitle = () => {\r\n        let textContainer = new createjs.Container()\r\n        let fontSize = window.innerHeight / 10\r\n        let text = new createjs.Text().set({\r\n            text: 'THE CARYATID REVOLUTION',\r\n            x: 0,\r\n            y: 0,\r\n            font: `${fontSize}px custard, sans-serif`,\r\n            lineWidth: window.innerWidth - 30\r\n        })\r\n        textContainer.addChild(text)\r\n        text.textAlign = 'center'\r\n        textContainer.x = this.props.stage.canvas.width / 2\r\n        textContainer.y = this.props.stage.canvas.height / 2 - this.props.stage.canvas.height / 5\r\n        this.container.addChild(textContainer)\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.arrowEl = new createjs.Bitmap(data.target, 'down-arrow')\r\n        this.addArrow()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = './title/down-arrow.png'\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    removeLoading = () => {\r\n        this.container.removeChild(this.fill)\r\n        this.container.removeChild(this.bar)\r\n    }\r\n\r\n    resize = () => {\r\n        this.props.stage.removeChild(this.container)\r\n        this.props.stage.removeChild(this.arrowEl)\r\n        createjs.Tween.removeAllTweens()        \r\n        this.createContainer()\r\n        this.createTitle()\r\n        this.createInstructions()\r\n        this.addArrow()\r\n        this.add()\r\n    }\r\n    \r\n    render() {\r\n        return null\r\n    }\r\n}","\r\nconst SPRITE_SHEETS = [\r\n    {\r\n        id: 'CARD_1',\r\n        src: './sprites/card1/card1.json'\r\n    },\r\n    {\r\n        id: 'CARD_2',\r\n        src: './sprites/card2/card2.json'\r\n    },\r\n    {\r\n        id: 'CARD_3',\r\n        src: './sprites/card3/card3.json'\r\n    },\r\n    {\r\n        id: 'CARD_4',\r\n        src: './sprites/card4/card4.json'\r\n    },\r\n    {\r\n        id: 'CARD_5',\r\n        src: './sprites/card5/card5.json'\r\n    },\r\n    {\r\n        id: 'CARD_6',\r\n        src: './sprites/card6/card6.json'\r\n    },\r\n    {\r\n        id: 'CARD_7',\r\n        src: './sprites/card7/card7.json'\r\n    },\r\n    {\r\n        id: 'CARD_9',\r\n        src: './sprites/card9/card9.json'\r\n    },\r\n    {\r\n        id: 'CARD_10',\r\n        src: './sprites/card10/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_12',\r\n        src: './sprites/card12/card12.json'\r\n    },\r\n    {\r\n        id: 'CARD_19',\r\n        src: './sprites/card20/card20.json'\r\n    },\r\n    {\r\n        id: 'CARD_21',\r\n        src: './sprites/card22/card22.json'\r\n    },\r\n    {\r\n        id: 'CARD_25',\r\n        src: './sprites/card26/card26.json'\r\n    },\r\n    {\r\n        id: 'CARD_27',\r\n        src: './sprites/card28/card28.json'\r\n    },\r\n    {\r\n        id: 'CARD_28',\r\n        src: './sprites/card29/card29.json'\r\n    },\r\n    {\r\n        id: 'CARD_29',\r\n        src: './sprites/card30/card30.json'\r\n    },\r\n    {\r\n        id: 'CARD_31',\r\n        src: './sprites/card32/card32.json'\r\n    },\r\n    {\r\n        id: 'CARD_33',\r\n        src: './sprites/card34/card34.json'\r\n    },\r\n    {\r\n        id: 'CARD_35',\r\n        src: './sprites/card36/card36.json'\r\n    },\r\n    {\r\n        id: 'CARD_36',\r\n        src: './sprites/card37/card37.json'\r\n    },\r\n    {\r\n        id: 'CARD_37',\r\n        src: './sprites/card38/card38.json'\r\n    }\r\n]\r\n\r\nconst TYPES = {\r\n    CARD: 'CARD',\r\n    PLACARD: 'PLACARD'\r\n}\r\n\r\nconst STILLS = [\r\n    {\r\n        id: 'CARD_8',\r\n        src: './stills/Still8.png'\r\n    },\r\n    {\r\n        id: 'CARD_11',\r\n        src: './stills/Still11.png'\r\n    },\r\n    {\r\n        id: 'CARD_13',\r\n        src: './stills/Still13.png'\r\n    },\r\n    {\r\n        id: 'CARD_14',\r\n        src: './stills/Still14.png'\r\n    },\r\n    {\r\n        id: 'CARD_15',\r\n        src: './stills/Still15.png'\r\n    },\r\n    {\r\n        id: 'CARD_16',\r\n        src: './stills/Still16.png'\r\n    },\r\n    {\r\n        id: 'CARD_17',\r\n        src: './stills/Still17.png'\r\n    },\r\n    {\r\n        id: 'CARD_18',\r\n        src: './stills/Still19.png'\r\n    },\r\n    {\r\n        id: 'CARD_20',\r\n        src: './stills/Still21.png'\r\n    },\r\n    {\r\n        id: 'CARD_22',\r\n        src: './stills/Still23.png'\r\n    },\r\n    {\r\n        id: 'CARD_23',\r\n        src: './stills/Still24.png'\r\n    },\r\n    {\r\n        id: 'CARD_24',\r\n        src: './stills/Still25.png'\r\n    },\r\n    {\r\n        id: 'CARD_26',\r\n        src: './stills/Still27.png'\r\n    },\r\n    {\r\n        id: 'CARD_30',\r\n        src: './stills/Still31.png'\r\n    },\r\n    {\r\n        id: 'CARD_32',\r\n        src: './stills/Still33.png'\r\n    },\r\n    {\r\n        id: 'CARD_34',\r\n        src: './stills/Still35.png'\r\n    }\r\n]\r\n\r\nconst PLACARDS = [\r\n    {\r\n        id: 'PLACARD_1',\r\n        src: './placards/placard1/card9.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_2',\r\n        src: './placards/placard2/card10.json',\r\n        after: {\r\n            idx: 8\r\n        }\r\n    },\r\n    {\r\n        id: 'PLACARD_3',\r\n        src: './placards/placard3/placard3.json',\r\n        after: {\r\n            idx: 33\r\n        }\r\n    }\r\n]\r\n\r\nconst ORIGINAL_SIZE = {\r\n    STILLS: {\r\n        h: 480,\r\n        w: 1440\r\n    },\r\n    STAGE: {\r\n        w: 640,\r\n        h: 480\r\n    }\r\n}\r\n\r\nconst MARGIN = {\r\n    x: 20,\r\n    y: 30\r\n}\r\n\r\nconst POPUPS = {\r\n    AUDREY: 'audrey',\r\n    HETTIE: 'hettie',\r\n    DORIS: 'doris',\r\n    ABOUT: 'about',\r\n    VIDEO: 'video'\r\n}\r\n\r\nconst FRAMERATE = 15\r\n\r\nconst TOTAL_ASSETS = SPRITE_SHEETS.length + PLACARDS.length + STILLS.length\r\n\r\nconst FIRST_SPRITE = 'CARD_1'\r\nconst FIRST_PLACARD = 'PLACARD_1'\r\n\r\nexport {ORIGINAL_SIZE, POPUPS, FIRST_SPRITE, FIRST_PLACARD, FRAMERATE, MARGIN, PLACARDS, STILLS, SPRITE_SHEETS, TYPES, TOTAL_ASSETS}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport { PLACARDS, FIRST_PLACARD, MARGIN } from '../constants/constants'\r\n\r\nexport default class Placard extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.addEventListener()\r\n        this.props.stage.addChild(this.spriteEl)\r\n        this.play()\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n        this.props.handleLoad(this.props.id)\r\n        this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let loader = new createjs.LoadQueue(false)\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        loader.loadManifest(manifest, true)\r\n        loader.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    play = () => {\r\n        this.spriteEl.play()\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 200\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        let cardHeight = transform.h * 2.4\r\n        let yOffset = this.props.after.idx * cardHeight + (this.props.after.idx + 1) * MARGIN.y * 2\r\n        PLACARDS.forEach(placard => {\r\n            let i = placard.id.split('_')\r\n            let idx = Number(i[i.length - 1]) - 1\r\n            if (this.state.idx > idx) {\r\n                yOffset += transform.h + MARGIN.y * 2\r\n            }\r\n        })\r\n        transform.y = yOffset + innerHeight\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.setTransform(transform.x, transform.y, scale, scale)\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_PLACARD) {\r\n            this.props.setTransform(transform, 'placards')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport {FIRST_SPRITE, MARGIN, PLACARDS} from '../constants/constants'\r\n\r\nexport default class Sprite extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.stop()\r\n        this.addEventListeners()\r\n        this.props.stage.addChild(this.spriteEl)\r\n    }\r\n\r\n    addEventListeners = () => {\r\n        this.spriteEl.addEventListener('click', this.onClick)\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    checkBounds = () => {\r\n        // if (this.props.currentSprite) return\r\n        let {transform} = this.state\r\n        let isHeightBiggerThanScreen = transform.h > this.props.stage.canvas.height\r\n        if (this.state.isPlaying) {\r\n            if (isHeightBiggerThanScreen) {\r\n                if (-this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                    this.stop()\r\n                }\r\n            } else if (transform.y < -this.props.y || transform.y + transform.h > -this.props.y + this.props.stage.canvas.height) {\r\n                this.stop()\r\n            }\r\n        } else {\r\n            if (!transform || this.state.hasPlayed || this.props.currentSprite) return\r\n            if (isHeightBiggerThanScreen && -this.props.y < transform.y && -this.props.y > transform.y + transform.h) {\r\n                this.play()\r\n            } else if (transform.y > -this.props.y && transform.y + transform.h < -this.props.y + this.props.stage.canvas.height) {\r\n                this.play()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = prevProps => {\r\n\r\n        if (!prevProps.queue && this.props.queue) {\r\n            this.load()\r\n        }\r\n\r\n        if (!prevProps.popup && this.props.popup && this.state.isPlaying) {\r\n            this.stop()\r\n        }\r\n\r\n        if (prevProps.y !== this.props.y) {\r\n            // Check if out of bounds\r\n            this.checkBounds()\r\n        }\r\n    }\r\n\r\n    check = () => {\r\n        let hasFinished = this.spriteEl.currentFrame === this.spriteEl.spriteSheet._frames.length - 1\r\n        if (hasFinished) {\r\n            this.stop()\r\n            this.setState({\r\n                hasPlayed: true\r\n            })\r\n            createjs.Ticker.removeEventListener('tick', this.check)\r\n        }\r\n    }\r\n\r\n    handleLoad = sprite => {\r\n        if (sprite.item.id === this.props.id) {\r\n            this.spriteEl = new createjs.Sprite(sprite.result, this.id)\r\n            this.props.handleLoad(this.props.id, 'sprites')\r\n            this.add()\r\n        }\r\n\r\n        // this.add()\r\n    }\r\n\r\n    load = () => {\r\n        let manifest = {\r\n            src: this.props.src,\r\n            id: this.props.id,\r\n            type: 'spritesheet',\r\n            crossOrigin: true\r\n        }\r\n        this.props.queue.loadManifest(manifest, true)\r\n        this.props.queue.on(\"fileload\", this.handleLoad)\r\n    }\r\n\r\n    onClick = ev => {\r\n        if (!this.spriteEl) return\r\n        if (this.state.hasPlayed) {\r\n            this.play(true)\r\n            // this.props.changeCurrent(this.id, true)\r\n        }\r\n    }\r\n\r\n    play = force => {\r\n        if (!this.spriteEl) return\r\n        if (this.props.currentSprite && this.props.currentSprite !== this.props.id) return\r\n        if (this.props.currentSprite && !force) return\r\n\r\n        if (this.state.hasPlayed) {\r\n            this.spriteEl.gotoAndPlay(0)\r\n            this.setState({\r\n                hasPlayed: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isPlaying: true\r\n            })\r\n            this.spriteEl.play()\r\n            createjs.Ticker.addEventListener('tick', this.check)\r\n        }\r\n\r\n        this.props.setCurrentSprite(this.props.id)\r\n    }\r\n\r\n    stop = force => {\r\n        if (!force) {\r\n            this.props.setCurrentSprite(null)\r\n        }\r\n        this.spriteEl.stop()\r\n        this.setState({\r\n            isPlaying: false\r\n        })\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.spriteEl.scaleX = scale\r\n        this.spriteEl.scaleY = scale\r\n        this.spriteEl.x = transform.x\r\n        this.spriteEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n        if (this.props.id === FIRST_SPRITE) {\r\n            this.props.setTransform(transform, 'sprites')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n}","import React from 'react'\r\nimport createjs from 'createjs-module'\r\nimport {PLACARDS, MARGIN} from '../constants/constants'\r\n\r\nexport default class Still extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let i = props.id.split('_')\r\n        this.state = {\r\n            idx: Number(i[i.length - 1]) - 1,\r\n            transform: {\r\n                x: 0,\r\n                y: 0,\r\n                w: 0,\r\n                h: 0\r\n            }\r\n        }\r\n    }\r\n\r\n    addEventListener = () => {\r\n        window.addEventListener('resize', this.transform)\r\n    }\r\n\r\n    add = () => {\r\n        this.transform()\r\n        this.props.stage.addChild(this.stillEl)\r\n    }\r\n\r\n    calculateYOffset = height => {\r\n        let yOffset = 0\r\n        PLACARDS.forEach(placard => {\r\n            let idx = placard.after.idx\r\n            if (this.state.idx >= idx) {\r\n                yOffset += height * 5 / 12 + MARGIN.y * 2\r\n            }\r\n        })\r\n        return yOffset\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    handleLoad = data => {\r\n        this.stillEl = new createjs.Bitmap(data.target, this.props.id)\r\n        this.props.handleLoad(this.props.id, 'stills')\r\n        this.add()\r\n        this.addEventListener()\r\n    }\r\n\r\n    load = () => {\r\n        let image = new Image()\r\n        image.src = this.props.src\r\n        image.onload = this.handleLoad\r\n    }\r\n\r\n    transform = () => {\r\n        let {innerWidth, innerHeight} = window\r\n        let margin = window.innerWidth / 10 < MARGIN.x ? MARGIN.x : window.innerWidth / 10\r\n        let transform = {x: 0, y: 0, w: 0, h: 0}\r\n        let rectWidth = 1440\r\n        let rectHeight = 480\r\n        let toResize = rectWidth + MARGIN.y * 2 > innerWidth\r\n        let isScreenSmall = window.innerWidth <= 600\r\n\r\n        transform.w = toResize ? innerWidth - margin : rectWidth\r\n        transform.w = isScreenSmall ? innerWidth : transform.w\r\n        transform.h = (rectHeight / rectWidth) * transform.w\r\n        transform.x = (innerWidth - transform.w) / 2\r\n        transform.x = isScreenSmall ? 0 : transform.x\r\n        transform.y = innerHeight + transform.h * this.state.idx + MARGIN.y * 2 * (this.state.idx + 1)\r\n        transform.y += this.calculateYOffset(transform.h)\r\n        let scale = transform.w / rectWidth\r\n        this.stillEl.scaleX = scale\r\n        this.stillEl.scaleY = scale\r\n        this.stillEl.x = transform.x\r\n        this.stillEl.y = transform.y\r\n        this.setState({\r\n            transform\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Buttons extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    onButtonClick = ev => {\r\n        this.props.setPopup(ev.target.id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`buttons ${this.props.showButtons ? 'visible' : 'hidden'}`}>\r\n                <div id=\"buttons-container\" className=\"buttons-container\">\r\n                    <div id=\"audrey\" className=\"button\" onClick={this.onButtonClick}>AUDREY</div>\r\n                    <div id=\"doris\" className=\"button\" onClick={this.onButtonClick}>DORIS</div>\r\n                    <div id=\"hettie\" className=\"button\" onClick={this.onButtonClick}>HETTIE</div>\r\n                </div>\r\n                <div id=\"bottom-buttons-container\" className=\"bottom-button-container\">\r\n                    <div id=\"about\" className=\"button\" onClick={this.onButtonClick}>ABOUT</div>\r\n                    <div id=\"video\" className=\"button\" onClick={this.onButtonClick}>THE VIDEO</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const AUDREY_TEXT = {\r\n    header:  'AUDREY',\r\n    html: `\r\n    <div>\r\n        Born on June 8, 1891 in Rochester, NY, Audrey Munson was catapulted from a young age to fame, which according to her mother, was her destiny forecasted as a young child. At five-years-old, Audrey’s mother, Katherine Mahaney, took her daughter to see Gypsy Queen Eliza who was visiting from England. Eliza looked at Audrey and predicted:\r\n    </div>\r\n    <div class=\"quote\">\r\n        “You shall be beloved and famous. But when you think that happiness is yours, its Dead Sea fruit shall turn to ashes in your mouth.”\r\n    </div>\r\n    `\r\n}\r\n\r\nconst DORIS_TEXT = {\r\n    header:  'DORIS',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst HETTIE_TEXT = {\r\n    header:  'HETTIE',\r\n    html: `\r\n        <div></div>\r\n    `\r\n}\r\n\r\nconst ABOUT_TEXT = {\r\n    header: 'ABOUT',\r\n    html: `\r\n    <div>\r\n        In New York City, there are only five monuments of named women but hundreds of anonymous ones such as caryatids, architectural columns in the form of feminine bodies. The male monument is allowed individuality while her body is an allegory, inexpressible and unable to exist independently as flesh and blood. Looking for the original women behind the sculptures, I found Audrey Munson, Hettie Anderson, and Doris Doscher, three models who posed for many of the unnamed sculptures found in New York and across the United States. <br><br>\r\n\r\n        <i>The Caryatid Rebellion</i> is an interactive comic and 7-minute video experience based on Hettie, Audrey, and Doris and their uprising against the buildings and institutions they have been forced to carry. With music by Violet June of Machine+, the experience begins with the caryatids’ current state, holding up buildings and institutions that continue to exclude and oppress, and documents their eventual rebellion and reclamation of the built world. Creating this world also involved my own process of rebellion by 3D modeling Korean architecture and designing avatars that looked more like me and other people of color, subverting the encoded white standards of beauty in Neoclassical architecture.\r\n    </div>\r\n\r\n    <h1>CREDITS</h1>\r\n    `\r\n}\r\n\r\nconst VIDEO_TEXT = {\r\n    header: 'WATCH THE REBELLION',\r\n    html: `\r\n    <iframe src=\"https://player.vimeo.com/video/541132130\" width=\"640\" height=\"360\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen></iframe>\r\n    `\r\n}\r\n\r\nconst TEXT = {\r\n    audrey: AUDREY_TEXT,\r\n    doris: DORIS_TEXT,\r\n    hettie: HETTIE_TEXT,\r\n    about: ABOUT_TEXT,\r\n    video: VIDEO_TEXT\r\n}\r\n\r\nexport default TEXT","import React from \"react\"\r\n\r\nimport TEXT from '../constants/text'\r\n\r\nexport default class Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    close = () => {\r\n        this.props.setPopup(null)\r\n    }\r\n    renderClose = () => (\r\n        <div className=\"close-container\">\r\n            <div \r\n                onClick={this.close}\r\n                className=\"close\"></div>\r\n        </div>\r\n    )\r\n\r\n    renderText = () => (\r\n        {\r\n            __html: TEXT[this.props.which].html\r\n        }\r\n    )\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"popup-container visible\">\r\n                {this.renderClose()}\r\n                <div className=\"text\">\r\n                    <h1>{TEXT[this.props.which].header}</h1>\r\n                </div>\r\n                <div className=\"description\">\r\n                    <div dangerouslySetInnerHTML={this.renderText()} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport createjs from 'createjs-module'\r\n\r\nimport Landing from './Landing'\r\nimport Placard from './Placard'\r\nimport Sprite from './Sprite'\r\nimport Still from './Still'\r\nimport Buttons from './Buttons'\r\nimport {FRAMERATE, SPRITE_SHEETS, TOTAL_ASSETS, MARGIN, STILLS, PLACARDS, POPUPS} from '../constants/constants'\r\nimport Popup from './Popup'\r\n\r\nimport {isTouchDevice} from '../utils/utils'\r\n\r\nwindow.createjs = createjs\r\n\r\nclass Stage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      areButtonsShowing: false,\r\n      assetTransform: {sprites: {}, placards: {}},\r\n      currentSprite: null,\r\n      hasLoaded: false,\r\n      hasScrolled: false,\r\n      y: 0,\r\n      mouseY: 0,\r\n      isTouchDevice: false,\r\n      popup: null,\r\n      lowerBound: 0,\r\n      loadedElements: 0,\r\n      loaded: {sprites: 0, placards: 0}\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isTouchDevice: this.isTouchDevice()\r\n    })\r\n    this.setup()\r\n    this.addEventListeners()\r\n    this.changeBackground()\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener('mousewheel', this.scroll)\r\n    document.removeEventListener('DOMMouseScroll', this.scroll)\r\n    window.removeEventListener('resize', this.resize)\r\n    clearInterval(this.changeHue)\r\n  }\r\n\r\n  addEventListeners = () => {\r\n    document.addEventListener('mousewheel', this.onScroll)\r\n    document.addEventListener('DOMMouseScroll', this.onScroll)\r\n    if (isTouchDevice()) {\r\n      document.getElementById('canvas').addEventListener('touchend', this.onMouseUp)\r\n      document.getElementById('canvas').addEventListener('touchstart', this.onMouseDown)  \r\n    }\r\n    window.addEventListener('resize', this.resize)\r\n  }\r\n\r\n  calculateLowerBound = () => {\r\n    let numOfSprites = SPRITE_SHEETS.length + STILLS.length\r\n    let numOfPlacards = PLACARDS.length\r\n    let lowerBound = numOfSprites * this.state.assetTransform.sprites.h + numOfPlacards * this.state.assetTransform.placards.h\r\n    lowerBound += TOTAL_ASSETS * MARGIN.y * 2 + MARGIN.y * 4\r\n    this.setState({\r\n      lowerBound\r\n    })\r\n    return lowerBound\r\n  }\r\n\r\n  changeBackground = () => {\r\n    let hue = 360\r\n\r\n    let changeHue = () => {\r\n        var col1 = Math.abs((hue % 720) - 360)\r\n        var col2 = Math.abs(((hue+90) % 720) - 360)\r\n        hue++\r\n\r\n        document.body.style.background = 'linear-gradient(to right, hsl(' + col1 + ',70%, 75%) 0%,hsl(' + col2 + ',90%,75%) 100%)'\r\n    }\r\n\r\n    this.changeHue = setInterval(changeHue, 64)\r\n  }\r\n\r\n  draw = () => {\r\n    this.stage.update()\r\n  }\r\n\r\n  isTouchDevice = () => {\r\n    return (('ontouchstart' in window) ||\r\n      (navigator.maxTouchPoints > 0) ||\r\n      (navigator.msMaxTouchPoints > 0))\r\n  }\r\n\r\n  onLoad = () => {\r\n    let hasLoaded = this.state.loadedElements + 1 === TOTAL_ASSETS\r\n\r\n    this.setState({\r\n      loadedElements: this.state.loadedElements + 1,\r\n      hasLoaded,\r\n      // loaded: Object.assign({}, {[type]: [...this.state.loaded[type], id]}, this.state.loaded)\r\n    })\r\n\r\n    if (hasLoaded) {\r\n      this.calculateLowerBound()\r\n    }\r\n  }\r\n\r\n  onMouseDown = ev => {\r\n    this.setState({\r\n      mouseY: ev.pageY\r\n    })\r\n\r\n    document.getElementById('canvas').addEventListener('touchmove', this.onMouseMove)\r\n\r\n  }\r\n\r\n  onMouseMove = ev => {\r\n    this.scroll(this.state.y + (ev.pageY - this.state.mouseY) / 40)\r\n  }\r\n\r\n  onMouseUp = ev => {\r\n    document.getElementById('canvas').removeEventListener('touchmove', this.onMouseMove)\r\n  }\r\n\r\n  onScroll = ev => {\r\n    let y  = this.state.y - ev.deltaY\r\n    this.scroll(y)\r\n  }\r\n\r\n  scroll = y => {\r\n    if (this.state.popup) return\r\n\r\n    if (Math.abs(y) > window.innerHeight && !this.state.areButtonsShowing) {\r\n      this.setState({\r\n        areButtonsShowing: true\r\n      })\r\n    } else if (Math.abs(this.state.y) < window.innerHeight && this.state.areButtonsShowing) {\r\n      // Hide buttons\r\n      this.setState({\r\n        areButtonsShowing: false\r\n      })\r\n    }\r\n\r\n    if (y > 0) {\r\n        return\r\n    }\r\n\r\n    if (-y > this.state.lowerBound && this.state.lowerBound) {\r\n        return\r\n    }\r\n    \r\n    this.setState({\r\n      hasScrolled: true,\r\n      y\r\n    })\r\n\r\n    createjs.Tween.get(this.stage, {override: true}).to({\r\n        y\r\n    }, 100, createjs.Ease.sineOut)\r\n  }\r\n\r\n  setCurrentSprite = currentSprite => {\r\n    this.setState({\r\n      currentSprite\r\n    })\r\n  }\r\n\r\n  setTransform = (spriteTransform, type) => {\r\n    this.setState({\r\n      assetTransform: Object.assign({}, this.state.assetTransform, {[type]: spriteTransform})\r\n    })\r\n  }\r\n\r\n  setup = () => {\r\n    this.stage = new createjs.Stage('canvas')\r\n    let ctx = this.stage.canvas.getContext('2d')\r\n    ctx.webkitImageSmoothingEnabled = ctx.mozImageSmoothingEnabled = ctx.imageSmoothingEnabled = true\r\n    createjs.Touch.enable(this.stage)\r\n\r\n    this.resize()\r\n\r\n    // Ticker\r\n    createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED\r\n    createjs.Ticker.framerate = FRAMERATE\r\n    createjs.Ticker.on('tick', this.draw)\r\n    \r\n    this.queue = new createjs.LoadQueue(true)\r\n    this.queue.maintainScriptOrder = true\r\n\r\n    this.stage.enableMouseOver(20)\r\n  }\r\n\r\n  renderLanding = () => (\r\n    <Landing\r\n      stage={this.stage}\r\n      loadedPercentage={this.state.loadedElements / TOTAL_ASSETS}\r\n      hasScrolled={this.state.hasScrolled}\r\n    />\r\n  )\r\n\r\n  renderPlacard = ({id, src, after}) => {\r\n    return <Placard \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      src={src}\r\n      after={after}\r\n    />\r\n  }\r\n\r\n  renderPopup = () => (\r\n    <Popup\r\n      setPopup={this.setPopup}\r\n      which={this.state.popup}\r\n    />\r\n  )\r\n\r\n  renderSprite = ({id, src}) => {\r\n    return <Sprite \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      setTransform={this.setTransform}\r\n      queue={this.queue}\r\n      src={src}\r\n      y={this.state.y}\r\n      popup={this.state.popup}\r\n      loaded={this.state.loaded}\r\n      setCurrentSprite={this.setCurrentSprite}\r\n      currentSprite={this.state.currentSprite}\r\n     />\r\n  }\r\n\r\n  renderStill = ({id, src}) => (\r\n    <Still \r\n      key={id}\r\n      id={id} \r\n      stage={this.stage}\r\n      handleLoad={this.onLoad}\r\n      src={src}\r\n     /> \r\n    )\r\n\r\n  resize = () => {\r\n    let currentPos = this.state.y / this.state.lowerBound\r\n    this.stage.canvas.width = window.innerWidth\r\n    this.stage.canvas.height = window.innerHeight\r\n    this.stage.scaleX = window.innerWidth / this.stage.canvas.width\r\n    this.stage.scaleY = window.innerHeight / this.stage.canvas.height\r\n\r\n    if (this.state.hasLoaded) {\r\n      setTimeout(() => {\r\n        let lowerBound = this.calculateLowerBound()\r\n        let y = currentPos * lowerBound\r\n        this.scroll(y)\r\n      }, 100)\r\n    }\r\n  }\r\n\r\n  setPopup = popup => {\r\n    let areButtonsShowing = !popup\r\n    this.setState({\r\n      popup,\r\n      areButtonsShowing\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <canvas \r\n          id=\"canvas\" \r\n          className={`${this.state.popup ? 'blurred' : ''}`}\r\n          width=\"640\"\r\n          height=\"480\"></canvas>\r\n        <Buttons\r\n          showButtons={this.state.areButtonsShowing}\r\n          setPopup={this.setPopup}\r\n        />\r\n        {this.state.popup ? this.renderPopup() : null}\r\n        {this.renderLanding()}\r\n        {SPRITE_SHEETS.map(this.renderSprite)}\r\n        {STILLS.map(this.renderStill)}\r\n        {PLACARDS.map(this.renderPlacard)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Stage\r\n","function isTouchDevice() {\r\n    return (('ontouchstart' in window) ||\r\n       (navigator.maxTouchPoints > 0) ||\r\n       (navigator.msMaxTouchPoints > 0))\r\n}\r\n\r\nexport {isTouchDevice}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './css/style.css'\r\nimport './css/media.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Stage from './components/Stage'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Stage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}